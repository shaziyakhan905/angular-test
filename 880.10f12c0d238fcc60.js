"use strict";(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[880],{6880:(Q,f,u)=>{u.r(f),u.d(f,{OnlineTestModule:()=>W});var d=u(177),l=u(1457),t=u(7705);let h=(()=>{class s{constructor(e,n){this.router=e,this.route=n,this.showSidebar=!0}ngOnInit(){this.router.events.subscribe(()=>{const e=this.router.url;this.showSidebar=!(e.includes("test-result")||e.includes("test-page"))})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(l.Ix),t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-online-test"]],decls:1,vars:0,template:function(n,i){1&n&&t.nrm(0,"router-outlet")},dependencies:[l.n3]})}}return s})();var m=u(3146),a=u(4341);function b(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",15)(1,"div",16)(2,"h5",17),t.EFF(3),t.k0s(),t.j41(4,"p",18),t.nrm(5,"i",19),t.j41(6,"strong"),t.EFF(7,"Category:"),t.k0s(),t.EFF(8),t.j41(9,"strong"),t.EFF(10,"Level:"),t.k0s(),t.EFF(11),t.k0s()(),t.j41(12,"div")(13,"button",20),t.bIt("click",function(){const o=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.goToTest(o._id))}),t.EFF(14," Take Test "),t.k0s()()()}if(2&s){const e=r.$implicit;t.R7$(3),t.JRh(e.title),t.R7$(5),t.SpI(" ",(null==e.category?null:e.category.name)||"N/A"," | "),t.R7$(3),t.SpI(" ",e.level||"N/A"," ")}}function v(s,r){if(1&s&&(t.qex(0),t.j41(1,"div",13),t.DNE(2,b,15,3,"div",14),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.filteredTests)}}function C(s,r){1&s&&(t.j41(0,"div",21),t.nrm(1,"i",22),t.EFF(2," No tests found for this level. "),t.k0s())}let T=(()=>{class s{constructor(e,n,i){this.route=e,this.http=n,this.router=i,this.tests=[],this.filteredTests=[],this.selectedLevel=""}ngOnInit(){this.route.queryParams.subscribe(e=>{const n=e.category;n&&this.fetchTestsByCategory(n)})}fetchTestsByCategory(e){this.http.get(`test/alltestWithCategaries/${e}`).subscribe(n=>{this.tests=n.data,this.filteredTests=[...this.tests]})}filterTestsByLevel(){this.filteredTests=this.selectedLevel?this.tests.filter(e=>e.level?.toLowerCase()===this.selectedLevel.toLowerCase()):[...this.tests]}resetLevelFilter(){this.selectedLevel="",this.filteredTests=[...this.tests]}goToTest(e){this.router.navigate(["/dashboard/test/online-test/test-page"],{queryParams:{testId:e}})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(l.nX),t.rXU(m.N),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-test-list"]],decls:20,vars:4,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","mb-4"],[1,"badge","rounded-pill","bg-primary","fs-6","px-3","py-2","shadow-sm"],[1,"d-flex","gap-2","align-items-center","mt-2","mt-md-0"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange","change"],["value",""],["value","Beginner"],["value","Intermediate"],["value","Expert"],["title","Reset Filter",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-clockwise","fs-5"],[4,"ngIf","ngIfElse"],["noTests",""],[1,"d-flex","flex-column","gap-3"],["class","card shadow-sm px-3 py-3 d-flex flex-row justify-content-between align-items-center flex-wrap",4,"ngFor","ngForOf"],[1,"card","shadow-sm","px-3","py-3","d-flex","flex-row","justify-content-between","align-items-center","flex-wrap"],[1,"flex-grow-1","pe-3"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"bi","bi-tags-fill","me-1","text-secondary"],[1,"btn","btn-primary",3,"click"],[1,"alert","alert-warning","text-center","mt-5"],[1,"bi","bi-info-circle"]],template:function(n,i){if(1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div")(3,"span",2),t.EFF(4),t.k0s()(),t.j41(5,"div",3)(6,"select",4),t.bIt("ngModelChange",function(c){return i.selectedLevel=c})("change",function(){return i.filterTestsByLevel()}),t.j41(7,"option",5),t.EFF(8,"\u{1f50d} Filter by Level"),t.k0s(),t.j41(9,"option",6),t.EFF(10,"\u{1f7e2} Beginner"),t.k0s(),t.j41(11,"option",7),t.EFF(12,"\u{1f7e0} Intermediate"),t.k0s(),t.j41(13,"option",8),t.EFF(14,"\u{1f534} Expert"),t.k0s()(),t.j41(15,"button",9),t.bIt("click",function(){return i.resetLevelFilter()}),t.nrm(16,"i",10),t.k0s()()(),t.DNE(17,v,3,1,"ng-container",11),t.DNE(18,C,3,0,"ng-template",null,12,t.C5r),t.k0s()),2&n){const o=t.sdS(19);t.R7$(4),t.SpI(" \u{1f4c2} ",(null==i.tests[0]||null==i.tests[0].category?null:i.tests[0].category.name)||"Category"," Tests "),t.R7$(2),t.Y8G("ngModel",i.selectedLevel),t.R7$(11),t.Y8G("ngIf",i.filteredTests.length>0)("ngIfElse",o)}},dependencies:[d.Sq,d.bT,a.xH,a.y7,a.wz,a.BC,a.vS],styles:[".card[_ngcontent-%COMP%]{border-radius:10px;transition:box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000014}h5[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.btn[_ngcontent-%COMP%]{min-width:120px;font-weight:500}.form-select[_ngcontent-%COMP%]{min-width:180px}.card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 0 10px #007bff1a}"]})}}return s})();function F(s,r){if(1&s&&(t.j41(0,"div",11)(1,"pre")(2,"code"),t.EFF(3),t.k0s()()()),2&s){const e=t.XpG().$implicit;t.R7$(3),t.JRh(null==e?null:e.questionContent)}}function y(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"input",15),t.bIt("change",function(){const o=t.eBV(e).index,c=t.XpG(2).index,_=t.XpG(3);return t.Njj(_.selectAnswer(c,o))}),t.k0s(),t.j41(3,"label",16),t.EFF(4),t.k0s()()()}if(2&s){const e=r.$implicit,n=r.index,i=t.XpG(2).index,o=t.XpG(3);t.R7$(2),t.Mz_("name","radoGroup",i,""),t.Y8G("id","radio-"+i+"-"+n)("checked",o.selectedAnswers[i]===n),t.R7$(1),t.Y8G("for","radio-"+i+"-"+n),t.R7$(1),t.SpI(" ",e," ")}}function k(s,r){if(1&s&&(t.qex(0),t.DNE(1,y,5,5,"div",12),t.bVm()),2&s){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",e.options)}}function x(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"input",17),t.bIt("change",function(){const o=t.eBV(e).index,c=t.XpG(2).index,_=t.XpG(3);return t.Njj(_.toggleCheckbox(c,o))}),t.k0s(),t.j41(3,"label",16),t.EFF(4),t.k0s()()()}if(2&s){const e=r.$implicit,n=r.index,i=t.XpG(2).index,o=t.XpG(3);t.R7$(2),t.Y8G("id","checkbox-"+i+"-"+n)("checked",null==o.selectedAnswers[i]?null:o.selectedAnswers[i].includes(n)),t.R7$(1),t.Y8G("for","checkbox-"+i+"-"+n),t.R7$(1),t.SpI(" ",e," ")}}function w(s,r){if(1&s&&(t.qex(0),t.DNE(1,x,5,4,"div",12),t.bVm()),2&s){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",e.options)}}function I(s,r){if(1&s&&(t.j41(0,"div",7)(1,"h6",8),t.EFF(2),t.k0s(),t.DNE(3,F,4,1,"div",9),t.DNE(4,k,2,1,"ng-container",10),t.DNE(5,w,2,1,"ng-container",10),t.k0s()),2&s){const e=r.$implicit,n=r.index;t.R7$(2),t.Lme("Q",n+1,". ",e.questionText,""),t.R7$(1),t.Y8G("ngIf",null==e?null:e.questionContent),t.R7$(1),t.Y8G("ngIf","radio"===e.type),t.R7$(1),t.Y8G("ngIf","checkbox"===e.type)}}function j(s,r){if(1&s){const e=t.RV6();t.j41(0,"form",4),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.submitTest())}),t.DNE(1,I,6,5,"div",5),t.j41(2,"button",6),t.EFF(3,"Submit Test"),t.k0s()()}if(2&s){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.questions),t.R7$(1),t.Y8G("disabled",e.isSubmitDisabled())}}function E(s,r){if(1&s&&(t.j41(0,"div",1)(1,"h5",2),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s(),t.DNE(5,j,4,2,"form",3),t.k0s()),2&s){const e=t.XpG();t.R7$(2),t.JRh(e.testData.title),t.R7$(2),t.JRh(null==e.testData?null:e.testData.description),t.R7$(1),t.Y8G("ngIf",""===e.resultStatus)}}let D=(()=>{class s{constructor(e,n,i){this.route=e,this.commonHttpService=n,this.router=i,this.testId="",this.questions=[],this.selectedAnswers=[],this.resultMessage="",this.resultStatus="",this.score=0}ngOnInit(){this.route.queryParams.subscribe(e=>{this.testId=e.testId,this.testId&&this.loadTest()})}loadTest(){this.commonHttpService.get(`test/${this.testId}`).subscribe(e=>{this.testData=e.data.test,this.questions=e.data.questions,console.log(this.questions),this.selectedAnswers=new Array(this.questions.length).fill(null)})}selectAnswer(e,n){this.selectedAnswers[e]=n}toggleCheckbox(e,n){this.selectedAnswers[e]||(this.selectedAnswers[e]=[]);const i=this.selectedAnswers[e].indexOf(n);-1===i?this.selectedAnswers[e].push(n):this.selectedAnswers[e].splice(i,1)}submitTest(){const e=this.questions.map((n,i)=>{const o=this.selectedAnswers[i];return null==o||Array.isArray(o)&&0===o.length?null:{questionId:n._id,selectedAnswers:Array.isArray(o)?o:[o]}}).filter(n=>null!==n);0!==e.length?this.commonHttpService.post(`test/submitTset/${this.testId}`,{answers:e}).subscribe({next:n=>{localStorage.setItem("submittedAnswers",JSON.stringify(e)),this.router.navigate(["/dashboard/test/online-test/test-result"],{queryParams:{status:n.status,score:n.score,message:n.message,testId:this.testId}})},error:n=>{this.router.navigate(["/dashboard/test/online-test/test-result"],{queryParams:{status:"fail",score:n.error?.score||0,message:n.error?.message||"Unexpected error occurred",testId:this.testId}})}}):alert("Please answer at least one question before submitting.")}isSubmitDisabled(){return 0===this.questions.length||this.selectedAnswers.some((e,n)=>{const i=this.questions[n];return"textarea"===i.type?!e||""===e.trim():"checkbox"===i.type?!Array.isArray(e)||0===e.length:null==e})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(l.nX),t.rXU(m.N),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-test-page"]],decls:1,vars:1,consts:[["class","container py-4",4,"ngIf"],[1,"container","py-4"],[1,"mb-2","text-primary"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["class","mb-3 p-2 border rounded shadow-sm bg-white",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","w-100","mt-3",3,"disabled"],[1,"mb-3","p-2","border","rounded","shadow-sm","bg-white"],[1,"mb-2"],["class","mb-2 text-dark questionContent-card",4,"ngIf"],[4,"ngIf"],[1,"mb-2","text-dark","questionContent-card"],["class","form-check mb-2 ps-4",4,"ngFor","ngForOf"],[1,"form-check","mb-2","ps-4"],[1,"d-flex","align-items-center","gap-2"],["type","radio",1,"form-check-input",3,"id","checked","name","change"],[1,"form-check-label","fw-medium",3,"for"],["type","checkbox",1,"form-check-input",3,"id","checked","change"]],template:function(n,i){1&n&&t.DNE(0,E,6,3,"div",0),2&n&&t.Y8G("ngIf",i.testData)},dependencies:[d.Sq,d.bT,a.qT,a.cb,a.cV],styles:[".questionContent-card[_ngcontent-%COMP%]{background-color:#ddd6d6;padding:.3rem}"]})}}return s})();function R(s,r){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",3),t.nrm(2,"img",4),t.j41(3,"div",5),t.EFF(4,"\u{1f389} Hurray! \u{1f389}"),t.k0s()(),t.j41(5,"h2",6),t.EFF(6,"Congratulations!"),t.k0s(),t.j41(7,"p",7),t.EFF(8,"You passed with a score of "),t.j41(9,"strong"),t.EFF(10),t.k0s(),t.EFF(11,"."),t.k0s(),t.j41(12,"p",8),t.EFF(13),t.k0s(),t.j41(14,"div",9)(15,"button",10),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.retakeTest())}),t.EFF(16," \u{1f501} Retake Test "),t.k0s(),t.j41(17,"button",11),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.showSummary())}),t.EFF(18," \u{1f4ca} Show Summary "),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(10),t.SpI("",e.score||0,"%"),t.R7$(3),t.JRh(e.message)}}function P(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",12),t.nrm(1,"img",13),t.j41(2,"h2",14),t.EFF(3,"\u{1f613} You didn\u2019t pass"),t.k0s(),t.j41(4,"p",15),t.EFF(5," Your score: "),t.j41(6,"strong"),t.EFF(7),t.k0s(),t.nrm(8,"br"),t.EFF(9," Minimum required: "),t.j41(10,"strong"),t.EFF(11,"80%"),t.k0s()(),t.j41(12,"div",9)(13,"button",16),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.retakeTest())}),t.EFF(14," \u{1f501} Retake Test "),t.k0s(),t.j41(15,"button",11),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.showSummary())}),t.EFF(16," \u{1f4ca} Show Summary "),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(7),t.SpI("",e.score||0,"%")}}let $=(()=>{class s{constructor(e,n){this.route=e,this.router=n,this.status="",this.score=0,this.testId="",this.message=""}ngOnInit(){this.route.queryParams.subscribe(e=>{this.status=e.status,this.score=+e.score,this.message=e.message,this.testId=e.testId})}retakeTest(){this.router.navigate(["/dashboard/test/online-test/test-page"],{queryParams:{testId:this.testId}})}showSummary(){this.router.navigate(["dashboard/test/online-test/view-summary"],{queryParams:{testId:this.testId}})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(l.nX),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-test-result"]],decls:4,vars:3,consts:[[1,"container","text-center","py-5","result-container",3,"ngClass"],[4,"ngIf","ngIfElse"],["failTemplate",""],[1,"icon-wrapper"],["src","https://cdn-icons-png.flaticon.com/512/3159/3159066.png","width","120",1,"icon","mb-3"],[1,"blink","hurray-text"],[1,"text-success","fw-bold"],[1,"fs-5"],[1,"text-muted"],[1,"d-flex","justify-content-center","gap-3","mt-4"],[1,"btn","btn-outline-success","px-4","py-2",3,"click"],[1,"btn","btn-primary","px-4","py-2",3,"click"],[1,"fail-animation-container","text-center"],["src","https://cdn-icons-png.flaticon.com/512/166/166527.png","width","140",1,"mb-4"],[1,"text-danger","fw-bold"],[1,"fs-5","text-muted"],[1,"btn","btn-outline-danger","px-4","py-2",3,"click"]],template:function(n,i){if(1&n&&(t.j41(0,"div",0),t.DNE(1,R,19,2,"div",1),t.DNE(2,P,17,1,"ng-template",null,2,t.C5r),t.k0s()),2&n){const o=t.sdS(3);t.Y8G("ngClass",i.status),t.R7$(1),t.Y8G("ngIf","pass"===i.status)("ngIfElse",o)}},dependencies:[d.YU,d.bT],styles:[".result-container[_ngcontent-%COMP%]{border-radius:12px;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .5s ease-in}.result-container.pass[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0ffe0,#d0f0ff)}.result-container.fail[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffe0e0,#fff0f0)}.icon-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.hurray-text[_ngcontent-%COMP%]{font-size:1.8rem;color:#28a745;font-weight:700;animation:_ngcontent-%COMP%_blink 1s infinite}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:.3}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}button[_ngcontent-%COMP%]{transition:all .3s ease}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#007bff;color:#fff}.fail-animation-container[_ngcontent-%COMP%]{background:#fff0f0;border-radius:12px;padding:30px;box-shadow:0 0 12px #ff00001a;transition:.3s ease-in-out}.fail-animation-container[_ngcontent-%COMP%]{background-color:#fff0f0;padding:40px 20px;border-radius:12px;box-shadow:0 4px 20px #ff00001a;text-align:center;transition:all .3s ease-in-out}.fail-animation-container[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 30px #f003}.btn-outline-danger[_ngcontent-%COMP%]{font-weight:500;border-radius:8px}"]})}}return s})();var g=u(2796);function G(s,r){if(1&s&&(t.j41(0,"option",16),t.EFF(1),t.k0s()),2&s){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.JRh(e.name)}}function O(s,r){if(1&s&&(t.j41(0,"option"),t.EFF(1),t.k0s()),2&s){const e=r.$implicit;t.R7$(1),t.JRh(e)}}function S(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"div")(4,"h5",22),t.EFF(5),t.k0s(),t.j41(6,"p",23)(7,"strong"),t.EFF(8,"Category:"),t.k0s(),t.EFF(9),t.nrm(10,"br"),t.j41(11,"strong"),t.EFF(12,"Level:"),t.k0s(),t.EFF(13),t.k0s()(),t.j41(14,"button",24),t.bIt("click",function(){const o=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.startTest(o._id))}),t.EFF(15," \u{1f680} Start Test "),t.k0s()()()()}if(2&s){const e=r.$implicit;t.R7$(5),t.SpI("\u{1f4dd} ",e.title,""),t.R7$(4),t.SpI(" ",e.category||"N/A",""),t.R7$(4),t.SpI(" ",e.level," ")}}const M=function(s){return{itemsPerPage:6,currentPage:s}};function X(s,r){if(1&s&&(t.j41(0,"div",17),t.DNE(1,S,16,3,"div",18),t.nI1(2,"paginate"),t.k0s()),2&s){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",t.i5U(2,1,e.filteredTests,t.eq3(4,M,e.page)))}}function A(s,r){1&s&&(t.j41(0,"div",25),t.EFF(1," No tests available with selected filters. "),t.k0s())}let N=(()=>{class s{constructor(e,n){this.http=e,this.router=n,this.tests=[],this.filteredTests=[],this.categories=[],this.paginatedTests=[],this.selectedCategory="",this.selectedLevel="",this.levels=["Beginner","Intermediate","Expert"],this.page=1}ngOnInit(){this.getAllTests(),this.getAllCategories()}getAllTests(){this.http.get("test").subscribe(e=>{this.tests=e.data,this.filterTests()})}getAllCategories(){this.http.get("test/getAllCategories").subscribe(e=>{this.categories=e.data})}filterTests(){this.page=1,this.filteredTests=this.tests.filter(e=>!(this.selectedCategory&&e.category!==this.selectedCategory||this.selectedLevel&&e.level!==this.selectedLevel))}resetFilters(){this.selectedCategory="",this.selectedLevel="",this.filterTests()}startTest(e){this.router.navigate(["/dashboard/test/online-test/test-page"],{queryParams:{testId:e}})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(m.N),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-practice-tests"]],decls:26,vars:6,consts:[[1,"container","py-4"],[1,"text-center","mb-4","text-primary","fw-bold"],[1,"row","mb-4","align-items-end"],[1,"col-md-5"],[1,"form-label","fw-bold"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-md-2","text-end"],[1,"btn","btn-secondary","mt-2","w-100",3,"click"],[1,"bi","bi-arrow-clockwise"],["class","row",4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange"],["noTests",""],[3,"value"],[1,"row"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","shadow-sm","h-100","border-primary"],[1,"card-body","d-flex","flex-column","justify-content-between"],[1,"card-title","fw-semibold"],[1,"text-muted","small","mb-1"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"alert","alert-warning","text-center","mt-5"]],template:function(n,i){if(1&n&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2," \u{1f525} Available Practice Tests "),t.k0s(),t.j41(3,"div",2)(4,"div",3)(5,"label",4),t.EFF(6,"Category"),t.k0s(),t.j41(7,"select",5),t.bIt("ngModelChange",function(c){return i.selectedCategory=c})("change",function(){return i.filterTests()}),t.j41(8,"option",6),t.EFF(9,"All Categories"),t.k0s(),t.DNE(10,G,2,2,"option",7),t.k0s()(),t.j41(11,"div",3)(12,"label",4),t.EFF(13,"Level"),t.k0s(),t.j41(14,"select",5),t.bIt("ngModelChange",function(c){return i.selectedLevel=c})("change",function(){return i.filterTests()}),t.j41(15,"option",6),t.EFF(16,"All Levels"),t.k0s(),t.DNE(17,O,2,1,"option",8),t.k0s()(),t.j41(18,"div",9)(19,"button",10),t.bIt("click",function(){return i.resetFilters()}),t.nrm(20,"i",11),t.k0s()()(),t.DNE(21,X,3,6,"div",12),t.j41(22,"div",13)(23,"pagination-controls",14),t.bIt("pageChange",function(c){return i.page=c}),t.k0s()(),t.DNE(24,A,2,0,"ng-template",null,15,t.C5r),t.k0s()),2&n){const o=t.sdS(25);t.R7$(7),t.Y8G("ngModel",i.selectedCategory),t.R7$(3),t.Y8G("ngForOf",i.categories),t.R7$(4),t.Y8G("ngModel",i.selectedLevel),t.R7$(3),t.Y8G("ngForOf",i.levels),t.R7$(4),t.Y8G("ngIf",i.filteredTests.length>0)("ngIfElse",o)}},dependencies:[d.Sq,d.bT,a.xH,a.y7,a.wz,a.BC,a.vS,g.ej,g.kf],styles:[".card-title[_ngcontent-%COMP%]{font-size:1.1rem;color:#212529}.alert-success[_ngcontent-%COMP%]{background-color:#e9f8ec;color:#198754;font-weight:500}.btn-outline-primary[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 .5rem 1rem #00000026}button[_ngcontent-%COMP%]{cursor:pointer!important}"]})}}return s})();var p=u(1113);function Y(s,r){if(1&s&&(t.j41(0,"pre",14),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.questionContent)}}const q=function(s,r){return{"list-group-item-success":s,"list-group-item-danger":r}};function L(s,r){if(1&s&&(t.j41(0,"li",15),t.EFF(1),t.k0s()),2&s){const e=r.$implicit,n=r.index,i=t.XpG().$implicit,o=t.XpG();t.Y8G("ngClass",t.l_i(2,q,o.isCorrect(n,i),!o.isCorrect(n,i)&&o.isUserSelected(n,i))),t.R7$(1),t.SpI(" ",e," ")}}function V(s,r){1&s&&(t.j41(0,"span",16),t.EFF(1,"\u2705 Correct"),t.k0s())}function B(s,r){1&s&&(t.j41(0,"span",17),t.EFF(1,"\u274c Incorrect"),t.k0s())}function U(s,r){if(1&s&&(t.j41(0,"div",5)(1,"div",6)(2,"h5",7),t.EFF(3),t.k0s(),t.DNE(4,Y,2,1,"pre",8),t.j41(5,"ul",9),t.DNE(6,L,2,5,"li",10),t.k0s(),t.j41(7,"div",11),t.DNE(8,V,2,0,"span",12),t.DNE(9,B,2,0,"span",13),t.k0s()()()),2&s){const e=r.$implicit,n=r.index;t.R7$(3),t.Lme("",n+1,". ",e.questionText,""),t.R7$(1),t.Y8G("ngIf",e.questionContent),t.R7$(2),t.Y8G("ngForOf",e.options),t.R7$(2),t.Y8G("ngIf",e.isCorrect),t.R7$(1),t.Y8G("ngIf",!e.isCorrect)}}const H=[{path:"",component:h},{path:"tests",component:T},{path:"test-page",canActivate:[p.W],component:D},{path:"test-result",canActivate:[p.W],component:$},{path:"practice-tests",canActivate:[p.W],component:N},{path:"view-summary",canActivate:[p.W],component:(()=>{class s{constructor(e,n,i){this.route=e,this.commonHttp=n,this.router=i,this.testId="",this.summaryDetails=[]}ngOnInit(){this.route.queryParams.subscribe(e=>{this.testId=e.testId,this.fetchSummary()})}fetchSummary(){const e=localStorage.getItem("submittedAnswers");if(!e)return void console.error("No submitted answers found in localStorage");let n;try{n=JSON.parse(e)}catch(o){return void console.error("Failed to parse stored answers:",o)}if(!this.testId||!n)return void console.error("Missing testId or answers");const i=n.map((o,c)=>({questionIndex:c,selectedOptions:o.selectedAnswers}));this.commonHttp.post(`test/evaluateTest/${this.testId}`,{answers:i}).subscribe({next:o=>{this.summaryData=o.result,this.summaryDetails=o.result.details},error:o=>{console.error("Evaluation failed:",o)}})}goBack(){this.router.navigate(["/dashboard/test/online-test/test-result"],{queryParams:{testId:this.testId}})}isCorrect(e,n){return n.correctAnswers.includes(e)}isUserSelected(e,n){return n.userSelectedAnswers.includes(e)}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(l.nX),t.rXU(m.N),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-view-summary"]],decls:7,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","text-center"],["class","card mb-4 shadow-sm",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"card-title"],["class","bg-light p-2 rounded",4,"ngIf"],[1,"list-group"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-2"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"bg-light","p-2","rounded"],[1,"list-group-item",3,"ngClass"],[1,"badge","bg-success"],[1,"badge","bg-danger"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"\u{1f4cb} Test Summary"),t.k0s(),t.DNE(3,U,10,6,"div",2),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return i.goBack()}),t.EFF(6," \u2190 Back to Result "),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("ngForOf",i.summaryDetails))},dependencies:[d.YU,d.Sq,d.bT]})}}return s})()}];let z=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(H),l.iI]})}}return s})(),W=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[d.MD,z,a.YN,a.X1,g.ed]})}}return s})()}}]);