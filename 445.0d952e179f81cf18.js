"use strict";(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[445],{7445:(H,g,l)=>{l.r(g),l.d(g,{TestManagementModule:()=>J});var d=l(177),m=l(7681),a=l(4341),t=l(8699),u=l(3146),f=l(2023),h=l(1619),p=l(2796);const b=["createTestModal"];function v(s,r){1&s&&(t.j41(0,"div",13),t.nrm(1,"div",14),t.k0s())}function T(s,r){if(1&s){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"button",19),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.viewTest(i._id))}),t.nrm(11,"i",20),t.k0s(),t.j41(12,"button",21),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.updateTest(i._id))}),t.nrm(13,"i",22),t.k0s(),t.j41(14,"button",23),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.deleteTest(i._id))}),t.nrm(15,"i",24),t.k0s()()()}if(2&s){const e=r.$implicit,n=r.index,o=t.XpG(2);t.R7$(2),t.JRh((o.page-1)*o.limit+n+1),t.R7$(2),t.JRh(e.title),t.R7$(2),t.JRh(e.category),t.R7$(2),t.JRh(null==e.questions?null:e.questions.length)}}const C=function(s,r){return{itemsPerPage:s,currentPage:r}};function F(s,r){if(1&s&&(t.j41(0,"div",15)(1,"table",16)(2,"thead",17)(3,"tr")(4,"th"),t.EFF(5,"SNo"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Title"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Category"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Total Questions"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Actions"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,T,16,4,"tr",18),t.nI1(16,"paginate"),t.k0s()()()),2&s){const e=t.XpG();t.R7$(15),t.Y8G("ngForOf",t.i5U(16,1,e.tests,t.l_i(4,C,e.limit,e.page)))}}function k(s,r){1&s&&(t.j41(0,"div",25),t.EFF(1," No tests available. "),t.k0s())}function x(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",26)(1,"pagination-controls",27),t.bIt("pageChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.page=o)}),t.k0s()()}}function y(s,r){if(1&s&&(t.j41(0,"option",40),t.EFF(1),t.k0s()),2&s){const e=r.$implicit;t.Y8G("value",e._id),t.R7$(1),t.JRh(e.name)}}function j(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",28)(1,"h5",29),t.EFF(2," Create Test From Excel "),t.k0s(),t.j41(3,"button",30),t.bIt("click",function(){const i=t.eBV(e).$implicit;return t.Njj(i.dismiss())}),t.k0s()(),t.j41(4,"div",31)(5,"form",32),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createTest())}),t.j41(6,"div",33)(7,"label",34),t.EFF(8,"Test Title"),t.k0s(),t.nrm(9,"input",35),t.k0s(),t.j41(10,"div",33)(11,"label",34),t.EFF(12,"Category"),t.k0s(),t.j41(13,"select",36),t.DNE(14,y,2,2,"option",37),t.k0s()(),t.j41(15,"div",33)(16,"label",34),t.EFF(17,"Select Questions"),t.k0s(),t.j41(18,"input",38),t.bIt("change",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onFileSelected(o))}),t.k0s()(),t.j41(19,"div",33)(20,"button",39),t.EFF(21,"Save"),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(5),t.Y8G("formGroup",e.testForm),t.R7$(9),t.Y8G("ngForOf",e.categories),t.R7$(6),t.Y8G("disabled",e.testForm.invalid)}}function w(s,r){if(1&s&&(t.j41(0,"option",17),t.EFF(1),t.k0s()),2&s){const e=r.$implicit;t.Y8G("value",e._id),t.R7$(1),t.JRh(e.name)}}function M(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",36),t.nrm(1,"input",37),t.j41(2,"button",21),t.bIt("click",function(){const i=t.eBV(e).index,c=t.XpG(2).index,_=t.XpG();return t.Njj(_.removeOption(c,i))}),t.nrm(3,"i",38),t.k0s()()}if(2&s){const e=r.index;t.R7$(1),t.Mz_("placeholder","Option ",e+1,""),t.Y8G("formControlName",e)}}function G(s,r){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"label",24),t.EFF(2,"Options"),t.k0s(),t.j41(3,"div",32),t.DNE(4,M,4,2,"div",33),t.k0s(),t.j41(5,"button",34),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,i=t.XpG();return t.Njj(i.addOption(o))}),t.nrm(6,"i",35),t.EFF(7," Add Option "),t.k0s()()}if(2&s){const e=t.XpG().index,n=t.XpG();t.R7$(4),t.Y8G("ngForOf",n.getQuestionsOptions(e).controls)}}function I(s,r){if(1&s){const e=t.RV6();t.j41(0,"input",46),t.bIt("change",function(){t.eBV(e);const o=t.XpG().index,i=t.XpG(2).index,c=t.XpG();return t.Njj(c.setRadioCorrectAnswer(i,o))}),t.k0s()}if(2&s){const e=t.XpG().index,n=t.XpG(2),i=n.$implicit;let c;t.Mz_("name","correctAnswer",n.index,""),t.Y8G("checked",(null==(c=i.get("correctAnswers"))?null:c.value[0])===e)}}function O(s,r){if(1&s){const e=t.RV6();t.j41(0,"input",47),t.bIt("change",function(){t.eBV(e);const o=t.XpG().index,i=t.XpG(2).index,c=t.XpG();return t.Njj(c.toggleCheckboxCorrectAnswer(i,o))}),t.k0s()}if(2&s){const e=t.XpG().index,n=t.XpG(2).$implicit;let o;t.Y8G("checked",null==(o=n.get("correctAnswers"))||null==o.value?null:o.value.includes(e))}}function R(s,r){if(1&s&&(t.j41(0,"div",42),t.DNE(1,I,1,2,"input",43),t.DNE(2,O,1,1,"input",44),t.j41(3,"label",45),t.EFF(4),t.k0s()()),2&s){const e=r.index,n=t.XpG(2).$implicit;let o,i;t.R7$(1),t.Y8G("ngIf","radio"===(null==(o=n.get("type"))?null:o.value)),t.R7$(1),t.Y8G("ngIf","checkbox"===(null==(i=n.get("type"))?null:i.value)),t.R7$(2),t.SpI(" ","Option "+(e+1)," ")}}function $(s,r){if(1&s&&(t.j41(0,"div",39)(1,"label",24),t.EFF(2,"Select Correct Answer(s)"),t.k0s(),t.j41(3,"div",40),t.DNE(4,R,5,3,"div",41),t.k0s()()),2&s){const e=t.XpG().index,n=t.XpG();t.R7$(4),t.Y8G("ngForOf",n.getQuestionsOptions(e).controls)}}function N(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"h5",20),t.EFF(3),t.k0s(),t.j41(4,"button",21),t.bIt("click",function(){const i=t.eBV(e).index,c=t.XpG();return t.Njj(c.removeQuestion(i))}),t.nrm(5,"i",22),t.k0s()(),t.j41(6,"div",23)(7,"label",24),t.EFF(8,"Question Type"),t.k0s(),t.j41(9,"select",25)(10,"option",26),t.EFF(11,"Single Choice"),t.k0s(),t.j41(12,"option",27),t.EFF(13,"Multiple Choice"),t.k0s(),t.j41(14,"option",28),t.EFF(15,"Textarea"),t.k0s()()(),t.j41(16,"div",23)(17,"label",24),t.EFF(18,"Question Text"),t.k0s(),t.nrm(19,"input",29),t.k0s(),t.DNE(20,G,8,1,"div",30),t.DNE(21,$,5,1,"div",31),t.k0s()}if(2&s){const e=r.$implicit,n=r.index;let o,i;t.Y8G("formGroupName",n),t.R7$(3),t.SpI("Question ",n+1,""),t.R7$(17),t.Y8G("ngIf","textarea"!==(null==(o=e.get("type"))?null:o.value)),t.R7$(1),t.Y8G("ngIf","textarea"!==(null==(i=e.get("type"))?null:i.value))}}function A(s,r){1&s&&(t.j41(0,"div",9),t.nrm(1,"div",10),t.k0s())}function P(s,r){if(1&s&&(t.j41(0,"li",24),t.nrm(1,"i",25),t.EFF(2),t.k0s()),2&s){const e=r.$implicit;t.R7$(2),t.SpI(" ",e," ")}}function V(s,r){1&s&&(t.j41(0,"div",26)(1,"span",27),t.EFF(2,"Text Answer"),t.k0s()())}function S(s,r){if(1&s&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s(),t.j41(3,"ul",21),t.DNE(4,P,3,1,"li",22),t.k0s(),t.DNE(5,V,3,0,"div",23),t.k0s()),2&s){const e=r.$implicit,n=r.index;t.R7$(2),t.Lme(" ",n+1,". ",e.questionText," "),t.R7$(2),t.Y8G("ngForOf",e.options),t.R7$(1),t.Y8G("ngIf","textarea"===e.type)}}function q(s,r){if(1&s&&(t.j41(0,"div"),t.DNE(1,S,6,4,"div",18),t.k0s()),2&s){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.test.questions)}}function D(s,r){1&s&&(t.j41(0,"div",28),t.EFF(1," No questions found for this test. "),t.k0s())}function Y(s,r){if(1&s&&(t.j41(0,"div")(1,"div",11)(2,"h5",12),t.EFF(3,"Title"),t.k0s(),t.j41(4,"p",13),t.EFF(5),t.k0s()(),t.j41(6,"div",11)(7,"h5",12),t.EFF(8,"Category"),t.k0s(),t.j41(9,"span",14),t.EFF(10),t.k0s()(),t.j41(11,"div")(12,"h5",15),t.EFF(13),t.k0s(),t.DNE(14,q,2,1,"div",16),t.DNE(15,D,2,0,"ng-template",null,17,t.C5r),t.k0s()()),2&s){const e=t.sdS(16),n=t.XpG();t.R7$(5),t.JRh(n.test.title),t.R7$(5),t.JRh(null==n.test.category?null:n.test.category.name),t.R7$(3),t.SpI("Questions (",(null==n.test.questions?null:n.test.questions.length)||0,")"),t.R7$(1),t.Y8G("ngIf",(null==n.test.questions?null:n.test.questions.length)>0)("ngIfElse",e)}}function Q(s,r){1&s&&(t.j41(0,"div",29),t.EFF(1," Test details not available or invalid Test ID. "),t.k0s())}const B=[{path:"",component:(()=>{class s{constructor(e,n,o,i,c,_){this.commonHttp=e,this.router=n,this.notify=o,this.fb=i,this.http=c,this.modalService=_,this.categories=[],this.tests=[],this.totalTests=0,this.page=1,this.limit=10,this.loading=!1,this.selectedQuestionFile=null,this.testForm=this.fb.group({title:["",a.k0.required],category:["",a.k0.required]})}ngOnInit(){this.getAllTests(),this.loadCategories()}loadCategories(){this.http.get("test/getAllCategories").subscribe(e=>{this.categories=e.data})}getAllTests(){this.commonHttp.get("test").subscribe(e=>{this.tests=e.data})}goToCreateTest(){this.router.navigate(["/test-management/create-test"])}viewTest(e){this.router.navigate(["/test-management/view-test",e])}updateTest(e){this.router.navigate(["/test-management/create-test"],{queryParams:{testId:e}})}deleteTest(e){confirm("Are you sure you want to delete this test?")&&this.commonHttp.delete(`test/deleteTest/${e}`).subscribe(()=>{this.notify.showSuccess("test is Deleted Successfuly"),this.getAllTests()})}onPageChange(e){this.page=e,this.getAllTests()}openCreateTestModal(){this.modalService.open(this.createTestModal,{backdrop:"static"})}onFileSelected(e){const n=e.target;if(n.files&&n.files.length>0){const o=n.files[0];if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(o.type))return alert("Only Excel files are allowed."),n.value="",void(this.selectedQuestionFile=null);this.selectedQuestionFile=o}}createTest(){if(this.testForm.invalid)return;const e=new FormData;e.append("title",this.testForm.value.title),e.append("category",this.testForm.value.category),this.selectedQuestionFile?(e.append("file",this.selectedQuestionFile),this.http.post("test/createTestFromExcel",e).subscribe({next:()=>{this.getAllTests(),this.modalService.dismissAll(),this.notify.showSuccess("Test Created Successfully")},error:n=>{console.log(n),this.notify.showError(n.error.message||"Failed to create test")}})):alert("Please select a valid Excel file.")}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(u.N),t.rXU(m.Ix),t.rXU(f.S),t.rXU(a.ok),t.rXU(u.N),t.rXU(h.Bq))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-test-management"]],viewQuery:function(n,o){if(1&n&&t.GBs(b,5),2&n){let i;t.mGM(i=t.lsd())&&(o.createTestModal=i.first)}},decls:21,vars:4,consts:[[1,"card","shadow-sm","rounded-3"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","custom-create-btn","dropdown-toggle"],[1,"bi","bi-plus-circle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","text-center my-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","alert alert-info text-center",4,"ngIf"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["createTestModal",""],[1,"text-center","my-4"],["role","status",1,"spinner-border","text-primary"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-info","me-1",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-sm","btn-warning","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"alert","alert-info","text-center"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label","fw-bold"],["type","text","formControlName","title","placeholder","Enter test title",1,"form-control"],["formControlName","category",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","file","required","","accept",".xlsx, .xls",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3,"Test Management"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.nrm(6,"i",5),t.EFF(7," Create Test "),t.k0s(),t.j41(8,"ul",6)(9,"li")(10,"a",7),t.bIt("click",function(){return o.goToCreateTest()}),t.EFF(11,"Create Test"),t.k0s()(),t.j41(12,"li")(13,"a",7),t.bIt("click",function(){return o.openCreateTestModal()}),t.EFF(14,"Create Test from Excel"),t.k0s()()()()(),t.DNE(15,v,2,0,"div",8),t.DNE(16,F,17,7,"div",9),t.DNE(17,k,2,0,"div",10),t.DNE(18,x,2,0,"div",11),t.k0s(),t.DNE(19,j,22,3,"ng-template",null,12,t.C5r)),2&n&&(t.R7$(15),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",!o.loading&&o.tests.length>0),t.R7$(1),t.Y8G("ngIf",!o.loading&&0===o.tests.length),t.R7$(1),t.Y8G("ngIf",o.tests.length>o.limit))},dependencies:[d.Sq,d.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD,p.ej,p.kf],styles:[".test-management-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 0 8px #0000000d}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;border:none}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;border:none}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border:none}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}.card-header[_ngcontent-%COMP%]{font-weight:700}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{pointer-events:none}.custom-create-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.custom-create-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return s})()},{path:"create-test",component:(()=>{class s{constructor(e,n,o,i,c){this.fb=e,this.http=n,this.notify=o,this.router=i,this.route=c,this.categories=[],this.isEditMode=!1,this.testId=null}ngOnInit(){this.testForm=this.fb.group({title:["",a.k0.required],category:["",a.k0.required],questions:this.fb.array([])}),this.loadCategories(),this.testId=this.route.snapshot.queryParamMap.get("testId"),this.isEditMode=!!this.testId,this.isEditMode?this.loadTestDetails(this.testId):this.addQuestion()}get questions(){return this.testForm.get("questions")}getQuestionsOptions(e){return this.questions.at(e).get("options")}setRadioCorrectAnswer(e,n){this.questions.at(e).get("correctAnswers")?.setValue([n])}toggleCheckboxCorrectAnswer(e,n){const o=this.questions.at(e);let i=o.get("correctAnswers")?.value||[];i.includes(n)?i=i.filter(c=>c!==n):i.push(n),o.get("correctAnswers")?.setValue(i)}addQuestion(e){const n=this.fb.group({type:[e?.type||"radio",a.k0.required],questionText:[e?.questionText||"",a.k0.required],options:this.fb.array([]),correctAnswers:this.fb.control([])});if(e?.options?.length?e.options.forEach(o=>{n.get("options").push(this.fb.control(o))}):n.get("options").push(this.fb.control("")),this.questions.push(n),e?.correctAnswers?.length>=0){const o=this.questions.length-1;this.questions.at(o).get("correctAnswers")?.setValue(e.correctAnswers)}}removeQuestion(e){this.questions.removeAt(e)}getOptions(e){return this.questions.at(e).get("options")}addOption(e){this.getOptions(e).push(this.fb.control(""))}removeOption(e,n){this.getOptions(e).removeAt(n)}loadCategories(){this.http.get("test/getAllCategories").subscribe(e=>{this.categories=e.data})}loadTestDetails(e){this.http.get(`test/getSingleTest/${e}`).subscribe({next:n=>{const o=n.data;this.testForm.patchValue({title:o.title,category:o.category?._id||""}),this.questions.clear(),o.questions.forEach(i=>{this.addQuestion({type:i.type,questionText:i.questionText,options:i.options,correctAnswers:i.correctAnswers})})},error:n=>{console.error(n),this.notify.showError("Failed to load test details"),this.router.navigate(["/test-management"])}})}onSubmit(){if(this.testForm.invalid)return void this.testForm.markAllAsTouched();const e={...this.testForm.value};e.questions.forEach(n=>{"textarea"===n.type?(delete n.options,delete n.correctAnswers):(Array.isArray(n.correctAnswers)||(n.correctAnswers=[]),n.options=n.options.filter(o=>o&&""!==o.trim()))}),this.isEditMode?this.updateTest(e):this.createTest(e)}createTest(e){this.http.post("test/createTest",e).subscribe({next:()=>{this.notify.showSuccess("Test Created Successfully"),this.router.navigate(["/test-management"])},error:n=>console.error(n)})}updateTest(e){this.http.put(`test/updateTest/${this.testId}`,e).subscribe({next:()=>{this.notify.showSuccess("Test Updated Successfully"),this.router.navigate(["/test-management"])},error:n=>console.error(n)})}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(a.ok),t.rXU(u.N),t.rXU(f.S),t.rXU(m.Ix),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-create-test"]],decls:24,vars:4,consts:[[1,"container","mt-4"],[1,"card","shadow-lg","p-4"],[1,"mb-4","text-center","fw-bold","text-primary"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label","fw-bold"],["type","text","formControlName","title","placeholder","Enter test title",1,"form-control"],["formControlName","category",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formArrayName","questions",1,"mt-4"],["class","border p-3 mb-4 rounded shadow-sm bg-light",3,"formGroupName",4,"ngFor","ngForOf"],[1,"text-center","mt-3"],["type","button",1,"btn","btn-outline-success","btn-lg",3,"click"],[1,"bi","bi-plus-circle-fill"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-primary","btn-lg","px-5",3,"disabled"],[1,"bi","bi-send-fill"],[3,"value"],[1,"border","p-3","mb-4","rounded","shadow-sm","bg-light",3,"formGroupName"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","mb-0"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"mb-2"],[1,"form-label"],["formControlName","type",1,"form-select"],["value","radio"],["value","checkbox"],["value","textarea"],["type","text","formControlName","questionText","placeholder","Enter question",1,"form-control"],[4,"ngIf"],["class","mt-2",4,"ngIf"],["formArrayName","options"],["class","d-flex mb-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary","btn-sm","mt-2",3,"click"],[1,"bi","bi-plus-circle"],[1,"d-flex","mb-2"],["type","text",1,"form-control","me-2",3,"formControlName","placeholder"],[1,"bi","bi-x-circle"],[1,"mt-2"],["formArrayName","options",1,"ms-3"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","class","form-check-input",3,"checked","name","change",4,"ngIf"],["type","checkbox","class","form-check-input",3,"checked","change",4,"ngIf"],[1,"form-check-label","ms-2"],["type","radio",1,"form-check-input",3,"checked","name","change"],["type","checkbox",1,"form-check-input",3,"checked","change"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3,"\u{1f4dd} Create New Test"),t.k0s(),t.j41(4,"form",3),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(5,"div",4)(6,"label",5),t.EFF(7,"Test Title"),t.k0s(),t.nrm(8,"input",6),t.k0s(),t.j41(9,"div",4)(10,"label",5),t.EFF(11,"Category"),t.k0s(),t.j41(12,"select",7),t.DNE(13,w,2,2,"option",8),t.k0s()(),t.j41(14,"div",9),t.DNE(15,N,22,4,"div",10),t.k0s(),t.j41(16,"div",11)(17,"button",12),t.bIt("click",function(){return o.addQuestion()}),t.nrm(18,"i",13),t.EFF(19," Add Question "),t.k0s()(),t.j41(20,"div",14)(21,"button",15),t.nrm(22,"i",16),t.EFF(23," Submit Test "),t.k0s()()()()()),2&n&&(t.R7$(4),t.Y8G("formGroup",o.testForm),t.R7$(9),t.Y8G("ngForOf",o.categories),t.R7$(2),t.Y8G("ngForOf",o.questions.controls),t.R7$(6),t.Y8G("disabled",o.testForm.invalid))},dependencies:[d.Sq,d.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8],styles:[".container[_ngcontent-%COMP%]{max-width:800px}.card[_ngcontent-%COMP%]{border-radius:15px;background-color:#fff}h2[_ngcontent-%COMP%]{color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]{transition:.3s}.btn-outline-primary[_ngcontent-%COMP%]:hover, .btn-outline-success[_ngcontent-%COMP%]:hover{transform:scale(1.05)}input.form-control[_ngcontent-%COMP%], select.form-select[_ngcontent-%COMP%]{border-radius:8px}.shadow-sm[_ngcontent-%COMP%]{background-color:#f9f9f9}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}"]})}}return s})()},{path:"view-test/:id",component:(()=>{class s{constructor(e,n,o){this.route=e,this.commonHttp=n,this.router=o,this.loading=!1}ngOnInit(){this.testId=this.route.snapshot.paramMap.get("id")||"",this.testId&&this.getTestDetails()}getTestDetails(){this.loading=!0,this.commonHttp.get(`test/getSingleTest/${this.testId}`).subscribe({next:e=>{this.test=e.data,this.loading=!1},error:()=>{this.loading=!1}})}goBack(){this.router.navigate(["/test-management"])}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(m.nX),t.rXU(u.N),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-view-test"]],decls:11,vars:3,consts:[[1,"container","mt-4"],[1,"card","shadow-sm","rounded-4","p-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","text-primary","mb-0"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-arrow-left"],["class","d-flex justify-content-center my-5",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger text-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"mb-4"],[1,"text-secondary"],[1,"fs-5","fw-semibold","text-dark"],[1,"badge","bg-primary"],[1,"text-secondary","mb-3"],[4,"ngIf","ngIfElse"],["noQuestions",""],["class","border rounded-3 p-3 mb-3",4,"ngFor","ngForOf"],[1,"border","rounded-3","p-3","mb-3"],[1,"fw-semibold","mb-2","text-dark"],[1,"list-unstyled","ms-3"],["class","mb-1",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],[1,"mb-1"],[1,"bi","bi-dot","text-primary"],[1,"mt-2"],[1,"badge","bg-secondary"],[1,"alert","alert-warning"],[1,"alert","alert-danger","text-center","mt-4"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),t.EFF(4,"Test Details"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return o.goBack()}),t.nrm(6,"i",5),t.EFF(7," Back to Test Management "),t.k0s()(),t.DNE(8,A,2,0,"div",6),t.DNE(9,Y,17,5,"div",7),t.DNE(10,Q,2,0,"div",8),t.k0s()()),2&n&&(t.R7$(8),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",o.test&&!o.loading),t.R7$(1),t.Y8G("ngIf",!o.test&&!o.loading))},dependencies:[d.Sq,d.bT],styles:[".card[_ngcontent-%COMP%]{border-radius:1rem}ul[_ngcontent-%COMP%]{padding-left:0}li[_ngcontent-%COMP%]{display:flex;align-items:center}.badge[_ngcontent-%COMP%]{font-size:.9rem}"]})}}return s})()}];let U=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(B),m.iI]})}}return s})(),J=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[d.MD,U,a.X1,p.ed]})}}return s})()}}]);