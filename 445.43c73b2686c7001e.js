"use strict";(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[445],{7445:(z,_,c)=>{c.r(_),c.d(_,{TestManagementModule:()=>H});var d=c(177),u=c(1457),l=c(4341),t=c(7705),m=c(3146),f=c(2023),h=c(2556),p=c(2796);const b=["createTestModal"];function v(o,r){if(1&o&&(t.j41(0,"option",23),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(1),t.JRh(e.name)}}function C(o,r){1&o&&(t.j41(0,"div",24),t.nrm(1,"div",25),t.k0s())}function F(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td")(12,"button",30),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.viewTest(i._id))}),t.nrm(13,"i",31),t.k0s(),t.j41(14,"button",32),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.updateTest(i._id))}),t.nrm(15,"i",33),t.k0s(),t.j41(16,"button",34),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.deleteTest(i._id))}),t.nrm(17,"i",35),t.k0s()()()}if(2&o){const e=r.$implicit,n=r.index,s=t.XpG(2);t.R7$(2),t.JRh((s.page-1)*s.limit+n+1),t.R7$(2),t.JRh(e.title),t.R7$(2),t.JRh(e.category),t.R7$(2),t.JRh(e.level),t.R7$(2),t.JRh(null==e.questions?null:e.questions.length)}}const T=function(o,r){return{itemsPerPage:o,currentPage:r}};function k(o,r){if(1&o&&(t.j41(0,"div",26)(1,"table",27)(2,"thead",28)(3,"tr")(4,"th"),t.EFF(5,"SNo"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Title"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Category"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Level"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Total Questions"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Actions"),t.k0s()()(),t.j41(16,"tbody"),t.DNE(17,F,18,5,"tr",29),t.nI1(18,"paginate"),t.k0s()()()),2&o){const e=t.XpG();t.R7$(17),t.Y8G("ngForOf",t.i5U(18,1,e.filteredTests,t.l_i(4,T,e.limit,e.page)))}}function y(o,r){1&o&&(t.j41(0,"div",36),t.EFF(1," No tests found matching the selected filters. "),t.k0s())}function j(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",37)(1,"pagination-controls",38),t.bIt("pageChange",function(s){t.eBV(e);const i=t.XpG();return t.Njj(i.page=s)}),t.k0s()()}}function E(o,r){if(1&o&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e._id),t.R7$(1),t.JRh(e.name)}}function w(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",44),t.nrm(1,"input",45),t.j41(2,"button",28),t.bIt("click",function(){const i=t.eBV(e).index,a=t.XpG(2).index,g=t.XpG();return t.Njj(g.removeOption(a,i))}),t.nrm(3,"i",46),t.k0s()()}if(2&o){const e=r.index;t.R7$(1),t.Mz_("placeholder","Option ",e+1,""),t.Y8G("formControlName",e)}}function M(o,r){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"label",31),t.EFF(2,"Options"),t.k0s(),t.j41(3,"div",40),t.DNE(4,w,4,2,"div",41),t.k0s(),t.j41(5,"button",42),t.bIt("click",function(){t.eBV(e);const s=t.XpG().index,i=t.XpG();return t.Njj(i.addOption(s))}),t.nrm(6,"i",43),t.EFF(7," Add Option "),t.k0s()()}if(2&o){const e=t.XpG().index,n=t.XpG();t.R7$(4),t.Y8G("ngForOf",n.getQuestionsOptions(e).controls)}}function I(o,r){if(1&o){const e=t.RV6();t.j41(0,"input",54),t.bIt("change",function(){t.eBV(e);const s=t.XpG().index,i=t.XpG(2).index,a=t.XpG();return t.Njj(a.setRadioCorrectAnswer(i,s))}),t.k0s()}if(2&o){const e=t.XpG().index,n=t.XpG(2),i=n.$implicit;let a;t.Mz_("name","correctAnswer",n.index,""),t.Y8G("checked",(null==(a=i.get("correctAnswers"))?null:a.value[0])===e)}}function G(o,r){if(1&o){const e=t.RV6();t.j41(0,"input",55),t.bIt("change",function(){t.eBV(e);const s=t.XpG().index,i=t.XpG(2).index,a=t.XpG();return t.Njj(a.toggleCheckboxCorrectAnswer(i,s))}),t.k0s()}if(2&o){const e=t.XpG().index,n=t.XpG(2).$implicit;let s;t.Y8G("checked",null==(s=n.get("correctAnswers"))||null==s.value?null:s.value.includes(e))}}function O(o,r){if(1&o&&(t.j41(0,"div",50),t.DNE(1,I,1,2,"input",51),t.DNE(2,G,1,1,"input",52),t.j41(3,"label",53),t.EFF(4),t.k0s()()),2&o){const e=r.index,n=t.XpG(2).$implicit;let s,i;t.R7$(1),t.Y8G("ngIf","radio"===(null==(s=n.get("type"))?null:s.value)),t.R7$(1),t.Y8G("ngIf","checkbox"===(null==(i=n.get("type"))?null:i.value)),t.R7$(2),t.SpI(" ","Option "+(e+1)," ")}}function R(o,r){if(1&o&&(t.j41(0,"div",47)(1,"label",31),t.EFF(2,"Select Correct Answer(s)"),t.k0s(),t.j41(3,"div",48),t.DNE(4,O,5,3,"div",49),t.k0s()()),2&o){const e=t.XpG().index,n=t.XpG();t.R7$(4),t.Y8G("ngForOf",n.getQuestionsOptions(e).controls)}}function $(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",25)(1,"div",26)(2,"h5",27),t.EFF(3),t.k0s(),t.j41(4,"button",28),t.bIt("click",function(){const i=t.eBV(e).index,a=t.XpG();return t.Njj(a.removeQuestion(i))}),t.nrm(5,"i",29),t.k0s()(),t.j41(6,"div",30)(7,"label",31),t.EFF(8,"Question Type"),t.k0s(),t.j41(9,"select",32)(10,"option",33),t.EFF(11,"Single Choice"),t.k0s(),t.j41(12,"option",34),t.EFF(13,"Multiple Choice"),t.k0s(),t.j41(14,"option",35),t.EFF(15,"Textarea"),t.k0s()()(),t.j41(16,"div",30)(17,"label",31),t.EFF(18,"Question Text"),t.k0s(),t.nrm(19,"input",36),t.k0s(),t.j41(20,"div",30)(21,"label",31),t.EFF(22,"Question Content"),t.k0s(),t.nrm(23,"textarea",37),t.j41(24,"div",13),t.EFF(25,"Optional: Provide additional content or context for the question."),t.k0s()(),t.DNE(26,M,8,1,"div",38),t.DNE(27,R,5,1,"div",39),t.k0s()}if(2&o){const e=r.$implicit,n=r.index;let s,i;t.Y8G("formGroupName",n),t.R7$(3),t.SpI("Question ",n+1,""),t.R7$(23),t.Y8G("ngIf","textarea"!==(null==(s=e.get("type"))?null:s.value)),t.R7$(1),t.Y8G("ngIf","textarea"!==(null==(i=e.get("type"))?null:i.value))}}function q(o,r){1&o&&(t.j41(0,"div",10),t.nrm(1,"div",11),t.k0s())}function D(o,r){if(1&o&&(t.j41(0,"div",25)(1,"pre")(2,"code"),t.EFF(3),t.k0s()()()),2&o){const e=t.XpG().$implicit;t.R7$(3),t.JRh(null==e?null:e.questionContent)}}function A(o,r){1&o&&(t.j41(0,"span",30),t.EFF(1," Correct "),t.k0s())}const X=function(o){return{"text-success fw-semibold":o}};function P(o,r){if(1&o&&(t.j41(0,"li",26),t.nrm(1,"i",27),t.j41(2,"span",28),t.EFF(3),t.k0s(),t.DNE(4,A,2,0,"span",29),t.k0s()),2&o){const e=r.$implicit,n=r.index,s=t.XpG().$implicit;t.R7$(2),t.Y8G("ngClass",t.eq3(3,X,null==s.correctAnswers?null:s.correctAnswers.includes(n))),t.R7$(1),t.SpI(" ",e," "),t.R7$(1),t.Y8G("ngIf",null==s.correctAnswers?null:s.correctAnswers.includes(n))}}function V(o,r){1&o&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2,"Text Answer"),t.k0s()())}function Y(o,r){if(1&o&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s(),t.DNE(3,D,4,1,"div",21),t.j41(4,"ul",22),t.DNE(5,P,5,5,"li",23),t.k0s(),t.DNE(6,V,3,0,"div",24),t.k0s()),2&o){const e=r.$implicit,n=r.index;t.R7$(2),t.Lme(" ",n+1,". ",e.questionText," "),t.R7$(1),t.Y8G("ngIf",null==e?null:e.questionContent),t.R7$(2),t.Y8G("ngForOf",e.options),t.R7$(1),t.Y8G("ngIf","textarea"===e.type)}}function S(o,r){if(1&o&&(t.j41(0,"div"),t.DNE(1,Y,7,5,"div",18),t.k0s()),2&o){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.test.questions)}}function Q(o,r){1&o&&(t.j41(0,"div",33),t.EFF(1," No questions found for this test. "),t.k0s())}function B(o,r){if(1&o&&(t.j41(0,"div")(1,"div",12)(2,"p",13),t.EFF(3),t.k0s()(),t.j41(4,"div",12)(5,"p",14),t.EFF(6),t.k0s()(),t.j41(7,"div")(8,"h5",15),t.EFF(9),t.k0s(),t.DNE(10,S,2,1,"div",16),t.DNE(11,Q,2,0,"ng-template",null,17,t.C5r),t.k0s()()),2&o){const e=t.sdS(12),n=t.XpG();t.R7$(3),t.JRh(n.test.title),t.R7$(3),t.JRh(null==n.test?null:n.test.description),t.R7$(3),t.SpI("Questions (",(null==n.test.questions?null:n.test.questions.length)||0,")"),t.R7$(1),t.Y8G("ngIf",(null==n.test.questions?null:n.test.questions.length)>0)("ngIfElse",e)}}function U(o,r){1&o&&(t.j41(0,"div",34),t.EFF(1," Test details not available or invalid Test ID. "),t.k0s())}const L=[{path:"",component:(()=>{class o{constructor(e,n,s,i,a,g){this.commonHttp=e,this.router=n,this.notify=s,this.fb=i,this.http=a,this.modalService=g,this.categories=[],this.tests=[],this.totalTests=0,this.page=1,this.limit=10,this.loading=!1,this.selectedQuestionFile=null,this.filteredTests=[],this.selectedCategory="",this.selectedLevel="",this.filterCategory="",this.filterLevel="",this.testForm=this.fb.group({title:["",l.k0.required],description:["",l.k0.required],category:["",l.k0.required]})}ngOnInit(){this.getAllTests(),this.loadCategories()}loadCategories(){this.http.get("test/getAllCategories").subscribe(e=>{this.categories=e.data})}getAllTests(){this.commonHttp.get("test").subscribe(e=>{this.tests=e.data,this.filteredTests=[...this.tests]})}applyFilters(){const e=this.selectedCategory.toLowerCase(),n=this.selectedLevel.toLowerCase();this.filteredTests=this.tests.filter(s=>{const i=!e||s.category?.toLowerCase()===e,a=!n||s.level?.toLowerCase()===n;return i&&a}),this.page=1}resetFilters(){this.selectedCategory="",this.selectedLevel="",this.filteredTests=[...this.tests],this.page=1}goToCreateTest(){this.router.navigate(["/dashboard/test/test-management/create-test"])}viewTest(e){this.router.navigate(["/dashboard/test/test-management/view-test",e])}updateTest(e){this.router.navigate(["/dashboard/test/test-management/create-test"],{queryParams:{testId:e}})}deleteTest(e){confirm("Are you sure you want to delete this test?")&&this.commonHttp.delete(`test/deleteTest/${e}`).subscribe(()=>{this.notify.showSuccess("test is Deleted Successfuly"),this.getAllTests()})}onPageChange(e){this.page=e,this.getAllTests()}openCreateTestModal(){this.modalService.open(this.createTestModal,{backdrop:"static"})}onFileSelected(e){const n=e.target;if(n.files&&n.files.length>0){const s=n.files[0];if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(s.type))return alert("Only Excel files are allowed."),n.value="",void(this.selectedQuestionFile=null);this.selectedQuestionFile=s}}createTest(){if(this.testForm.invalid)return;const e=new FormData;e.append("title",this.testForm.value.title),e.append("description",this.testForm.value.description),e.append("category",this.testForm.value.category),this.selectedQuestionFile?(e.append("file",this.selectedQuestionFile),this.http.post("test/createTestFromExcel",e).subscribe({next:()=>{this.getAllTests(),this.modalService.dismissAll(),this.notify.showSuccess("Test Created Successfully")},error:n=>{console.log(n),this.notify.showError(n.error.message||"Failed to create test")}})):alert("Please select a valid Excel file.")}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(m.N),t.rXU(u.Ix),t.rXU(f.S),t.rXU(l.ok),t.rXU(m.N),t.rXU(h.Bq))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-test-management"]],viewQuery:function(n,s){if(1&n&&t.GBs(b,5),2&n){let i;t.mGM(i=t.lsd())&&(s.createTestModal=i.first)}},decls:42,vars:7,consts:[[1,"card","shadow-sm","rounded-3"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-success","btn-sm","dropdown-toggle"],[1,"bi","bi-plus-circle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"bg-light","p-3","d-flex","flex-wrap","gap-3","align-items-end","border-bottom"],[1,"form-group","mb-0"],[1,"form-label","fw-semibold"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","Beginner"],["value","Intermediate"],["value","Expert"],[1,"btn","btn-secondary","mt-4",3,"click"],[1,"bi","bi-arrow-clockwise"],["class","text-center my-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","alert alert-info text-center",4,"ngIf"],["class","d-flex justify-content-center mt-3",4,"ngIf"],[3,"value"],[1,"text-center","my-4"],[1,"spinner-border","text-primary"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-info","me-1",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-sm","btn-warning","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"alert","alert-info","text-center"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange"]],template:function(n,s){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3,"Test Management"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.nrm(6,"i",5),t.EFF(7," Create Test "),t.k0s(),t.j41(8,"ul",6)(9,"li")(10,"a",7),t.bIt("click",function(){return s.goToCreateTest()}),t.EFF(11,"Create Test"),t.k0s()(),t.j41(12,"li")(13,"a",7),t.bIt("click",function(){return s.openCreateTestModal()}),t.EFF(14,"Create Test from Excel"),t.k0s()()()()(),t.j41(15,"div",8)(16,"div",9)(17,"label",10),t.EFF(18,"Category:"),t.k0s(),t.j41(19,"select",11),t.bIt("ngModelChange",function(a){return s.selectedCategory=a})("change",function(){return s.applyFilters()}),t.j41(20,"option",12),t.EFF(21,"All"),t.k0s(),t.DNE(22,v,2,2,"option",13),t.k0s()(),t.j41(23,"div",9)(24,"label",10),t.EFF(25,"Level:"),t.k0s(),t.j41(26,"select",11),t.bIt("ngModelChange",function(a){return s.selectedLevel=a})("change",function(){return s.applyFilters()}),t.j41(27,"option",12),t.EFF(28,"\u{1f50d} Filter by Level"),t.k0s(),t.j41(29,"option",14),t.EFF(30,"\u{1f7e2} Beginner"),t.k0s(),t.j41(31,"option",15),t.EFF(32,"\u{1f7e0} Intermediate"),t.k0s(),t.j41(33,"option",16),t.EFF(34,"\u{1f534} Expert"),t.k0s()()(),t.j41(35,"div",2)(36,"button",17),t.bIt("click",function(){return s.resetFilters()}),t.nrm(37,"i",18),t.k0s()()(),t.DNE(38,C,2,0,"div",19),t.DNE(39,k,19,7,"div",20),t.DNE(40,y,2,0,"div",21),t.DNE(41,j,2,0,"div",22),t.k0s()),2&n&&(t.R7$(19),t.Y8G("ngModel",s.selectedCategory),t.R7$(3),t.Y8G("ngForOf",s.categories),t.R7$(4),t.Y8G("ngModel",s.selectedLevel),t.R7$(12),t.Y8G("ngIf",s.loading),t.R7$(1),t.Y8G("ngIf",!s.loading&&s.filteredTests.length>0),t.R7$(1),t.Y8G("ngIf",!s.loading&&0===s.filteredTests.length),t.R7$(1),t.Y8G("ngIf",s.filteredTests.length>s.limit))},dependencies:[d.Sq,d.bT,l.xH,l.y7,l.wz,l.BC,p.ej,l.vS,p.kf],styles:[".test-management-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 0 8px #0000000d}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;border:none}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;border:none}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border:none}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}.card-header[_ngcontent-%COMP%]{font-weight:700}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{pointer-events:none}.custom-create-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none}.custom-create-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return o})()},{path:"create-test",component:(()=>{class o{constructor(e,n,s,i,a){this.fb=e,this.http=n,this.notify=s,this.router=i,this.route=a,this.categories=[],this.isEditMode=!1,this.testId=null}ngOnInit(){this.testForm=this.fb.group({title:["",l.k0.required],description:["",l.k0.required],category:["",l.k0.required],level:["",l.k0.required],questions:this.fb.array([])}),this.loadCategories(),this.testId=this.route.snapshot.queryParamMap.get("testId"),this.isEditMode=!!this.testId,this.isEditMode?this.loadTestDetails(this.testId):this.addQuestion()}get questions(){return this.testForm.get("questions")}getQuestionsOptions(e){return this.questions.at(e).get("options")}setRadioCorrectAnswer(e,n){this.questions.at(e).get("correctAnswers")?.setValue([n])}toggleCheckboxCorrectAnswer(e,n){const s=this.questions.at(e);let i=s.get("correctAnswers")?.value||[];i.includes(n)?i=i.filter(a=>a!==n):i.push(n),s.get("correctAnswers")?.setValue(i)}addQuestion(e){const n=this.fb.group({type:[e?.type||"radio",l.k0.required],questionText:[e?.questionText||"",l.k0.required],questionContent:[e?.questionContent||""],options:this.fb.array([]),correctAnswers:this.fb.control([])});if(e?.options?.length?e.options.forEach(s=>{n.get("options").push(this.fb.control(s))}):n.get("options").push(this.fb.control("")),this.questions.push(n),e?.correctAnswers?.length>=0){const s=this.questions.length-1;this.questions.at(s).get("correctAnswers")?.setValue(e.correctAnswers)}}removeQuestion(e){this.questions.removeAt(e)}getOptions(e){return this.questions.at(e).get("options")}addOption(e){this.getOptions(e).push(this.fb.control(""))}removeOption(e,n){this.getOptions(e).removeAt(n)}loadCategories(){this.http.get("test/getAllCategories").subscribe(e=>{this.categories=e.data})}loadTestDetails(e){this.http.get(`test/getSingleTest/${e}`).subscribe({next:n=>{const s=n.data;this.testForm.patchValue({title:s?.title,description:s?.description||"",category:s.category?._id||"",level:s.level||""}),this.questions.clear(),s.questions.forEach(i=>{this.addQuestion({type:i.type,questionText:i.questionText,questionContent:i?.questionContent||"",options:i.options,correctAnswers:i.correctAnswers})})},error:n=>{console.error(n),this.notify.showError("Failed to load test details"),this.router.navigate(["/dashboard/test/test-management"])}})}onSubmit(){if(this.testForm.invalid)return void this.testForm.markAllAsTouched();const e={...this.testForm.value};e.questions.forEach(n=>{"textarea"===n.type?(delete n.options,delete n.correctAnswers):(Array.isArray(n.correctAnswers)||(n.correctAnswers=[]),n.options=n.options.filter(s=>s&&""!==s.trim()))}),this.isEditMode?this.updateTest(e):this.createTest(e)}createTest(e){this.http.post("test/createTest",e).subscribe({next:()=>{this.notify.showSuccess("Test Created Successfully"),this.router.navigate(["/dashboard/test/test-management"])},error:n=>console.error(n)})}updateTest(e){this.http.put(`test/updateTest/${this.testId}`,e).subscribe({next:()=>{this.notify.showSuccess("Test Updated Successfully"),this.router.navigate(["/dashboard/test/test-management"])},error:n=>console.error(n)})}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(l.ok),t.rXU(m.N),t.rXU(f.S),t.rXU(u.Ix),t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-create-test"]],decls:42,vars:4,consts:[[1,"container","mt-4"],[1,"card","shadow-lg","p-4"],[1,"mb-4","text-center","fw-bold","text-primary"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label","fw-bold"],["type","text","formControlName","title","placeholder","Enter test title",1,"form-control"],["formControlName","level",1,"form-select"],["value","","disabled","","selected",""],["value","Beginner"],["value","Intermediate"],["value","Expert"],["formControlName","description","placeholder","Enter test description","rows","3",1,"form-control"],[1,"form-text"],["formControlName","category",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formArrayName","questions",1,"mt-4"],["class","border p-3 mb-4 rounded shadow-sm bg-light",3,"formGroupName",4,"ngFor","ngForOf"],[1,"text-center","mt-3"],["type","button",1,"btn","btn-outline-success","btn-lg",3,"click"],[1,"bi","bi-plus-circle-fill"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-primary","btn-lg","px-5",3,"disabled"],[1,"bi","bi-send-fill"],[3,"value"],[1,"border","p-3","mb-4","rounded","shadow-sm","bg-light",3,"formGroupName"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold","mb-0"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"mb-2"],[1,"form-label"],["formControlName","type",1,"form-select"],["value","radio"],["value","checkbox"],["value","textarea"],["type","text","formControlName","questionText","placeholder","Enter question",1,"form-control"],["formControlName","questionContent","placeholder","Enter question content","rows","3",1,"form-control"],[4,"ngIf"],["class","mt-2",4,"ngIf"],["formArrayName","options"],["class","d-flex mb-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary","btn-sm","mt-2",3,"click"],[1,"bi","bi-plus-circle"],[1,"d-flex","mb-2"],["type","text",1,"form-control","me-2",3,"formControlName","placeholder"],[1,"bi","bi-x-circle"],[1,"mt-2"],["formArrayName","options",1,"ms-3"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","class","form-check-input",3,"checked","name","change",4,"ngIf"],["type","checkbox","class","form-check-input",3,"checked","change",4,"ngIf"],[1,"form-check-label","ms-2"],["type","radio",1,"form-check-input",3,"checked","name","change"],["type","checkbox",1,"form-check-input",3,"checked","change"]],template:function(n,s){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3,"\u{1f4dd} Create New Test"),t.k0s(),t.j41(4,"form",3),t.bIt("ngSubmit",function(){return s.onSubmit()}),t.j41(5,"div",4)(6,"label",5),t.EFF(7,"Test Title"),t.k0s(),t.nrm(8,"input",6),t.k0s(),t.j41(9,"div",4)(10,"label",5),t.EFF(11,"Test Level"),t.k0s(),t.j41(12,"select",7)(13,"option",8),t.EFF(14,"Select Level"),t.k0s(),t.j41(15,"option",9),t.EFF(16,"Beginner"),t.k0s(),t.j41(17,"option",10),t.EFF(18,"Intermediate"),t.k0s(),t.j41(19,"option",11),t.EFF(20,"Expert"),t.k0s()()(),t.j41(21,"div",4)(22,"label",5),t.EFF(23,"Test Description"),t.k0s(),t.nrm(24,"textarea",12),t.j41(25,"div",13),t.EFF(26,"Provide a brief description of the test."),t.k0s()(),t.j41(27,"div",4)(28,"label",5),t.EFF(29,"Category"),t.k0s(),t.j41(30,"select",14),t.DNE(31,E,2,2,"option",15),t.k0s()(),t.j41(32,"div",16),t.DNE(33,$,28,4,"div",17),t.k0s(),t.j41(34,"div",18)(35,"button",19),t.bIt("click",function(){return s.addQuestion()}),t.nrm(36,"i",20),t.EFF(37," Add Question "),t.k0s()(),t.j41(38,"div",21)(39,"button",22),t.nrm(40,"i",23),t.EFF(41," Submit Test "),t.k0s()()()()()),2&n&&(t.R7$(4),t.Y8G("formGroup",s.testForm),t.R7$(27),t.Y8G("ngForOf",s.categories),t.R7$(2),t.Y8G("ngForOf",s.questions.controls),t.R7$(6),t.Y8G("disabled",s.testForm.invalid))},dependencies:[d.Sq,d.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.j4,l.JD,l.$R,l.v8],styles:[".container[_ngcontent-%COMP%]{max-width:800px}.card[_ngcontent-%COMP%]{border-radius:15px;background-color:#fff}h2[_ngcontent-%COMP%]{color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]{transition:.3s}.btn-outline-primary[_ngcontent-%COMP%]:hover, .btn-outline-success[_ngcontent-%COMP%]:hover{transform:scale(1.05)}input.form-control[_ngcontent-%COMP%], select.form-select[_ngcontent-%COMP%]{border-radius:8px}.shadow-sm[_ngcontent-%COMP%]{background-color:#f9f9f9}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}"]})}}return o})()},{path:"view-test/:id",component:(()=>{class o{constructor(e,n,s){this.route=e,this.commonHttp=n,this.router=s,this.loading=!1}ngOnInit(){this.testId=this.route.snapshot.paramMap.get("id")||"",this.testId&&this.getTestDetails()}getTestDetails(){this.loading=!0,this.commonHttp.get(`test/getSingleTest/${this.testId}`).subscribe({next:e=>{this.test=e.data,this.loading=!1},error:()=>{this.loading=!1}})}goBack(){this.router.navigate(["/dashboard/test/test-management"])}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(u.nX),t.rXU(m.N),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-view-test"]],decls:15,vars:4,consts:[[1,"container","mt-4"],[1,"card","shadow-sm","rounded-4","p-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"text-secondary","mb-0"],[1,"badge","bg-primary"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-arrow-left"],["class","d-flex justify-content-center my-5",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger text-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"mb-4"],[1,"fs-5","fw-semibold","text-dark"],[1,"fs-6","text-dark"],[1,"text-secondary","mb-3"],[4,"ngIf","ngIfElse"],["noQuestions",""],["class","border rounded-3 p-3 mb-3",4,"ngFor","ngForOf"],[1,"border","rounded-3","p-3","mb-3"],[1,"fw-semibold","mb-2","text-dark"],["class","mb-2 text-dark questionContent-card",4,"ngIf"],[1,"list-unstyled","ms-3"],["class","mb-1",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],[1,"mb-2","text-dark","questionContent-card"],[1,"mb-1"],[1,"bi","bi-dot","text-primary"],[3,"ngClass"],["class","badge bg-success ms-2",4,"ngIf"],[1,"badge","bg-success","ms-2"],[1,"mt-2"],[1,"badge","bg-secondary"],[1,"alert","alert-warning"],[1,"alert","alert-danger","text-center","mt-4"]],template:function(n,s){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h5",3),t.EFF(5," Category : "),t.j41(6,"span",4),t.EFF(7),t.k0s()()(),t.j41(8,"div")(9,"button",5),t.bIt("click",function(){return s.goBack()}),t.nrm(10,"i",6),t.EFF(11," Back to Test Management "),t.k0s()()(),t.DNE(12,q,2,0,"div",7),t.DNE(13,B,13,5,"div",8),t.DNE(14,U,2,0,"div",9),t.k0s()()),2&n&&(t.R7$(7),t.JRh(null==s.test.category?null:s.test.category.name),t.R7$(5),t.Y8G("ngIf",s.loading),t.R7$(1),t.Y8G("ngIf",s.test&&!s.loading),t.R7$(1),t.Y8G("ngIf",!s.test&&!s.loading))},dependencies:[d.YU,d.Sq,d.bT],styles:[".card[_ngcontent-%COMP%]{border-radius:1rem}ul[_ngcontent-%COMP%]{padding-left:0}li[_ngcontent-%COMP%]{display:flex;align-items:center}.badge[_ngcontent-%COMP%]{font-size:.9rem}.questionContent-card[_ngcontent-%COMP%]{background-color:#ddd6d6;padding:.3rem}"]})}}return o})()}];let J=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(L),u.iI]})}}return o})(),H=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[d.MD,J,l.X1,p.ed,l.YN]})}}return o})()}}]);